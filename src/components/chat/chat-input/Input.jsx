import { useState } from 'react';
import './input.css'
import axios from './../../../axios';


const Input = () => {
    const [input_message, setMessage] = useState("")

    const messageChange = (e)   =>  {
        setMessage(e.target.value)
    }
    // const enterKey = (e) => {
    //     if(e.key === 'Enter'){
    //         sendMessage()
    //     } 
    // }

    const sendMessage = (e) =>{
        e.preventDefault();

        axios.post("/messages", {
            message: input_message,
            name: 'Input Message',
            time: "Just now",
            received: true
        })
        setMessage("")
    }


    return ( 
        <div className="chat__input">
            <div className="container">
                <div className="input-block">
                    <div className="input__emoji">
                    <svg width="20" height="20" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12.5 0C5.59646 0 0 5.59646 0 12.5C0 19.4035 5.59646 25 12.5 25C19.4035 25 25 19.4035 25 12.5C25 5.59646 19.4035 0 12.5 0ZM20.1603 20.1603C18.2609 22.0541 15.7244 23.1729 13.0451 23.2987C10.3658 23.4244 7.73567 22.5482 5.66715 20.8407C3.59864 19.1332 2.23993 16.7167 1.85577 14.0621C1.47162 11.4075 2.08954 8.705 3.58912 6.48113C5.08871 4.25726 7.36254 2.67135 9.96756 2.03241C12.5726 1.39347 15.3222 1.74728 17.6806 3.02489C20.039 4.30251 21.8372 6.41241 22.725 8.94347C23.6127 11.4745 23.5263 14.2455 22.4827 16.7163C21.9387 18.0038 21.15 19.1734 20.1603 20.1603Z" fill="black"/>
                    <path d="M9.16659 9.58334H7.08325V11.6667H9.16659V9.58334Z" fill="black"/>
                    <path d="M17.9166 9.58334H15.8333V11.6667H17.9166V9.58334Z" fill="black"/>
                    <path d="M16.7859 15.1667C16.4636 15.9801 15.9036 16.6776 15.1791 17.1681C14.4545 17.6586 13.599 17.9195 12.724 17.9167H12.2761C11.4011 17.9195 10.5455 17.6587 9.82093 17.1681C9.09634 16.6776 8.53636 15.9801 8.214 15.1667L8.14738 15H6.35254L6.66671 15.7855C7.11514 16.9066 7.8892 17.8676 8.88904 18.5445C9.88889 19.2215 11.0686 19.5833 12.2761 19.5833H12.724C13.9314 19.5833 15.1112 19.2215 16.111 18.5445C17.1109 17.8676 17.8849 16.9066 18.3334 15.7855L18.6475 15H16.8525L16.7859 15.1667Z" fill="black"/>
                    </svg>
                    </div>
                    <form action="#!" className="input__message">
                        <input type="text" value={input_message} onChange={messageChange}  placeholder='Type a message...' />
                        <button type="submit" onClick={sendMessage} >
                            <svg width="20" height="20" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g id="send-solid">
                            <path id="Color" fill-rule="evenodd" clip-rule="evenodd" d="M32.3625 25.8406H7.55469L2.09531 45.5719L47.2109 24.7859L2 4L7.55625 23.9234H32.3641C33.0344 23.9234 33.3219 24.2109 33.3219 24.8813C33.3219 25.5516 33.0344 25.8391 32.3641 25.8391L32.3625 25.8406Z" fill="#454545"/>
                            </g>
                            </svg>
                        </button>
                    </form>
                    <div className="input__mic">
                    <svg width="20" height="20" viewBox="0 0 15 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.64209 13.0988C8.70259 13.0976 9.71931 12.6758 10.4692 11.9259C11.2191 11.176 11.6409 10.1593 11.6421 9.09882V4.09882C11.6421 3.03795 11.2207 2.02053 10.4705 1.27039C9.72037 0.520243 8.70296 0.0988159 7.64209 0.0988159C6.58122 0.0988159 5.56381 0.520243 4.81366 1.27039C4.06352 2.02053 3.64209 3.03795 3.64209 4.09882V9.09882C3.64328 10.1593 4.06509 11.176 4.81498 11.9259C5.56487 12.6758 6.58159 13.0976 7.64209 13.0988ZM4.97542 4.09882C4.97542 3.39157 5.25637 2.71329 5.75647 2.2132C6.25657 1.7131 6.93485 1.43215 7.64209 1.43215C8.34933 1.43215 9.02761 1.7131 9.52771 2.2132C10.0278 2.71329 10.3088 3.39157 10.3088 4.09882V9.09882C10.3088 9.80606 10.0278 10.4843 9.52771 10.9844C9.02761 11.4845 8.34933 11.7655 7.64209 11.7655C6.93485 11.7655 6.25657 11.4845 5.75647 10.9844C5.25637 10.4843 4.97542 9.80606 4.97542 9.09882V4.09882Z" fill="black"/>
                    <path d="M13.6422 6.76549V9.09882C13.6422 12.4072 10.9505 15.0988 7.64217 15.0988C4.33384 15.0988 1.64217 12.4072 1.64217 9.09882V6.76549H0.308838V9.09882C0.308838 12.9177 3.24317 16.0636 6.9755 16.4015V20.0988H8.30884V16.4015C12.0412 16.0636 14.9755 12.9177 14.9755 9.09882V6.76549H13.6422Z" fill="black"/>
                    </svg>
                    </div>
                </div>
            </div>
        </div>
     );
}
 
export default Input;